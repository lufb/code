/********************************************************************************************************
Copyright (C), 1988-2007, Qianlong Tech. Co., Ltd.

	FileName:		RTServer.cpp
	Author:			tanhg
	Create:			2009.03.16
	
	Description:
	History:		
*********************************************************************************************************/
#include "Global.h"
#include <windows.h>


#ifndef LINUXCODE
#define DLLEXPORT	__declspec(dllexport)
#else
#define DLLEXPORT 
#endif

#define CTYPENAMEFUNC	extern "C"
#define STDCALL	__stdcall

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CTYPENAMEFUNC DLLEXPORT unsigned long  STDCALL GetDllVersion()
{
	return Global_DllVersion;
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CTYPENAMEFUNC DLLEXPORT int  STDCALL StartWork( tagSrvUnit_PlatInterface * In, tagSrvUnit_OutInterface * Out )
{
	return Global_StartServer( In, Out );
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CTYPENAMEFUNC DLLEXPORT int  STDCALL EndWork()
{
	return Global_EndServer();
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef LINUXCODE
BOOL STDCALL DllMain( HANDLE hModule, DWORD  ul_reason_for_call,  LPVOID lpReserved )
{
	Global_SrvHandle = hModule;
    return TRUE;
}
#endif
